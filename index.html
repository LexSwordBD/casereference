<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CaseReference | Legal Research Platform</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@300;400;600;700&display=swap');
        body { background-color: #f8f9fa; font-family: 'Hind Siliguri', sans-serif; overflow-x: hidden; }
        
        /* ‡¶®‡ßç‡¶Ø‡¶æ‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® */
        .navbar { background: #fff; box-shadow: 0 2px 10px rgba(0,0,0,0.05); padding: 15px 0; }
        .navbar-brand { font-size: 26px; font-weight: 700; color: #2c3e50 !important; }
        .navbar-brand span { color: #d35400; }
        .nav-link { font-weight: 600; color: #555; margin-right: 15px; }
        .nav-link:hover { color: #d35400; }

        /* ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶≤‡¶ø‡¶Ç ‡¶®‡¶ø‡¶â‡¶ú ‡¶ü‡¶ø‡¶ï‡¶æ‡¶∞ (‡¶®‡¶§‡ßÅ‡¶®) */
        .news-ticker { background: #2c3e50; color: white; padding: 8px 0; font-size: 14px; overflow: hidden; white-space: nowrap; }
        .ticker-content { display: inline-block; animation: marquee 20s linear infinite; }
        @keyframes marquee { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }

        /* ‡¶π‡¶ø‡¶∞‡ßã ‡¶∏‡ßá‡¶ï‡¶∂‡¶® */
        .hero-section { background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%); padding: 80px 20px; text-align: center; color: white; }
        .hero-title { font-size: 40px; font-weight: 700; margin-bottom: 10px; }
        
        /* ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶¨‡¶ï‡ßç‡¶∏ ‡¶°‡¶ø‡¶ú‡¶æ‡¶á‡¶® */
        .search-container { max-width: 800px; margin: 0 auto; position: relative; }
        .search-input { width: 100%; height: 60px; border-radius: 50px; border: none; padding: 0 130px 0 30px; font-size: 18px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); }
        .search-input:focus { outline: none; }
        .btn-search { position: absolute; right: 8px; top: 8px; border-radius: 40px; padding: 10px 30px; background: #d35400; color: white; border: none; font-weight: bold; }
        
        /* ‡¶è‡¶°‡¶≠‡¶æ‡¶®‡ßç‡¶∏‡¶° ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ */
        .adv-search-panel { display: none; background: white; color: #333; padding: 25px; border-radius: 10px; margin-top: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.15); text-align: left; }

        /* ‡¶ï‡ßá‡¶® ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶¨‡ßá‡¶® (‡¶®‡¶§‡ßÅ‡¶® ‡¶∏‡ßá‡¶ï‡¶∂‡¶®) */
        .features-section { padding: 60px 20px; background: white; }
        .feature-card { text-align: center; padding: 30px; border: 1px solid #eee; border-radius: 15px; transition: 0.3s; height: 100%; }
        .feature-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.08); border-color: #d35400; }
        .feature-icon { width: 70px; height: 70px; line-height: 70px; background: #fff0e6; color: #d35400; font-size: 30px; border-radius: 50%; margin: 0 auto 20px; }
        
        /* ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú ‡¶∏‡ßá‡¶ï‡¶∂‡¶® */
        .packages-section { padding: 60px 20px; background: #f8f9fa; }
        .package-card { background: white; padding: 30px; border-radius: 15px; text-align: center; border: 1px solid #eee; transition: 0.3s; position: relative; overflow: hidden; }
        .package-card:hover { transform: translateY(-10px); box-shadow: 0 15px 30px rgba(0,0,0,0.1); border-color: #27ae60; }
        .package-card i { font-size: 40px; color: #27ae60; margin-bottom: 15px; }
        .price span { font-size: 32px; font-weight: 800; color: #2c3e50; }
        .btn-pay { background: #2c3e50; color: white; padding: 10px 20px; border-radius: 5px; text-decoration: none; display: inline-block; margin-top: 15px; }
        
        /* ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶®‡¶´‡¶æ‡¶∞‡ßç‡¶Æ ‡¶¨‡¶æ‡¶ü‡¶® */
        .btn-confirm { background: #27ae60; color: white; padding: 15px 40px; border-radius: 50px; font-size: 18px; font-weight: bold; border: none; box-shadow: 0 5px 15px rgba(39, 174, 96, 0.4); }
        .btn-confirm:hover { background: #219150; transform: scale(1.05); }

        /* ‡¶∞‡ßá‡¶ú‡¶æ‡¶≤‡ßç‡¶ü ‡¶è‡¶¨‡¶Ç ‡¶∞‡¶ø‡¶°‡¶æ‡¶∞ */
        .result-card { background: white; padding: 25px; border-radius: 8px; border-left: 5px solid #d35400; margin-bottom: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); cursor: pointer; }
        .highlight { background: #ffeb3b; padding: 0 3px; border-radius: 2px; }
        #readerView { display: none; background: white; padding: 50px; border-radius: 8px; font-family: 'Times New Roman', serif; font-size: 19px; line-height: 1.8; text-align: justify; margin-bottom: 50px; }
        
        /* ‡¶™‡ßá‡¶ì‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú */
        .paywall-msg { display: none; text-align: center; padding: 50px; background: white; border-radius: 10px; border: 1px solid #ddd; margin-bottom: 50px; }

        /* WhatsApp Floating Button */
        .whatsapp-float { position: fixed; width: 60px; height: 60px; bottom: 40px; right: 40px; background-color: #25d366; color: #FFF; border-radius: 50px; text-align: center; font-size: 30px; box-shadow: 2px 2px 3px #999; z-index: 100; display: flex; align-items: center; justify-content: center; text-decoration: none; }
        .whatsapp-float:hover { background-color: #128c7e; color: white; }
    </style>
</head>
<body>

    <div class="news-ticker">
        <div class="ticker-content">
            üì¢ ‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ CaseReference-‡¶è! ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶™‡¶æ‡¶ö‡ßç‡¶õ‡ßá‡¶® ‡ß≠‡ß´ ‡¶°‡¶ø‡¶è‡¶≤‡¶Ü‡¶∞ ‡¶∏‡¶π ‡¶π‡¶æ‡¶á‡¶ï‡ßã‡¶∞‡ßç‡¶ü ‡¶ì ‡¶Ü‡¶™‡¶ø‡¶≤ ‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó‡ßá‡¶∞ ‡¶∏‡¶ï‡¶≤ ‡¶ú‡¶æ‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡•§ ‡¶Ü‡¶ú‡¶á ‡¶Æ‡ßá‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞‡¶∂‡¶ø‡¶™ ‡¶®‡¶ø‡ßü‡ßá ‡¶Ü‡¶®‡¶≤‡¶ø‡¶Æ‡¶ø‡¶ü‡ßá‡¶° ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶∏‡ßá‡¶∏ ‡¶â‡¶™‡¶≠‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ ‡¶π‡ßá‡¶≤‡ßç‡¶™‡¶≤‡¶æ‡¶á‡¶®: ‡ß¶‡ßß‡ßØ‡ßß‡ßß ‡ß¶‡ß¶‡ßÆ ‡ß´‡ßß‡ßÆ‡•§
        </div>
    </div>

    <nav class="navbar navbar-expand-lg sticky-top">
        <div class="container">
            <a class="navbar-brand" href="#" onclick="location.reload()">Case<span>Reference</span></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto align-items-center">
                    <li class="nav-item"><a class="nav-link" href="#" onclick="showSection('home')">‡¶π‡ßã‡¶Æ</a></li>
                    <li class="nav-item"><a class="nav-link" href="#features">‡¶ï‡ßá‡¶® ‡¶Ü‡¶Æ‡¶∞‡¶æ?</a></li>
                    <li class="nav-item"><a class="nav-link" href="#packages">‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú</a></li>
                    <li class="nav-item"><a class="nav-link" href="#contact">‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó</a></li>
                    <li class="nav-item ms-2" id="authDiv"></li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="hero-section" id="homeSection">
        <div class="container">
            <h1 class="hero-title">Welcome to Case Reference</h1>
            <p class="mb-4" style="opacity: 0.9;">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶Ü‡¶á‡¶®‡¶æ‡¶ô‡ßç‡¶ó‡¶®‡ßá‡¶∞ ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶∏‡ßç‡¶§ ‡¶°‡¶ø‡¶ú‡¶ø‡¶ü‡¶æ‡¶≤ ‡¶∏‡¶π‡¶Ø‡ßã‡¶ó‡ßÄ</p>
            
            <div class="search-container">
                <input type="text" id="searchInput" class="search-input" placeholder="‡¶ï‡ßÄ ‡¶ñ‡ßÅ‡¶Å‡¶ú‡¶§‡ßá ‡¶ö‡¶æ‡¶®? (‡¶Ø‡ßá‡¶Æ‡¶®: Murder, Fraud, Section 302)...">
                <button class="btn btn-light position-absolute top-50 translate-middle-y start-0 ms-2 rounded-circle" style="left: 10px;" onclick="toggleAdvSearch()" title="Advanced Filter"><i class="fas fa-filter text-dark"></i></button>
                <button class="btn-search" onclick="performSearch('simple')">Search</button>

                <div class="adv-search-panel" id="advSearchForm">
                    <h6 class="mb-3 border-bottom pb-2 text-primary"><i class="fas fa-search-plus"></i> ‡¶∏‡ßÅ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡¶ø‡¶∑‡ßç‡¶ü ‡¶ú‡¶æ‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Ö‡¶®‡ßÅ‡¶∏‡¶®‡ßç‡¶ß‡¶æ‡¶® (‡¶∏‡¶¨ ‡¶ò‡¶∞ ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶¨‡¶æ‡¶ß‡ßç‡¶Ø‡¶§‡¶æ‡¶Æ‡ßÇ‡¶≤‡¶ï)</h6>
                    <div class="row g-2">
                        <div class="col-md-3">
                            <label class="form-label small fw-bold">Journal</label>
                            <select id="advJournal" class="form-select border-danger">
                                <option value="">Select...</option><option value="DLR">DLR</option><option value="BLD">BLD</option><option value="ADC">ADC</option>
                            </select>
                        </div>
                        <div class="col-md-2">
                            <label class="form-label small fw-bold">Volume</label>
                            <input type="text" id="advVol" class="form-control border-danger" placeholder="e.g. 75">
                        </div>
                        <div class="col-md-3">
                            <label class="form-label small fw-bold">Division</label>
                            <select id="advDiv" class="form-select border-danger">
                                <option value="">Select...</option><option value="AD">Appellate (AD)</option><option value="HCD">High Court (HCD)</option>
                            </select>
                        </div>
                        <div class="col-md-2">
                            <label class="form-label small fw-bold">Page</label>
                            <input type="text" id="advPage" class="form-control border-danger" placeholder="e.g. 45">
                        </div>
                        <div class="col-md-2 d-flex align-items-end">
                            <button class="btn btn-dark w-100" onclick="performSearch('advanced')">Go</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="features-section" id="features">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="fw-bold text-dark">‡¶ï‡ßá‡¶® <span style="color:#d35400">CaseReference</span> ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶¨‡ßá‡¶®?</h2>
                <p class="text-muted">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ü‡¶á‡¶®‡¶ø ‡¶ó‡¶¨‡ßá‡¶∑‡¶£‡¶æ‡¶ï‡ßá ‡¶∏‡¶π‡¶ú ‡¶ï‡¶∞‡¶§‡ßá ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶®‡¶ø‡ßü‡ßá ‡¶è‡¶∏‡ßá‡¶õ‡¶ø ‡¶Ö‡¶§‡ßç‡¶Ø‡¶æ‡¶ß‡ßÅ‡¶®‡¶ø‡¶ï ‡¶∏‡¶¨ ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞</p>
            </div>
            <div class="row g-4">
                <div class="col-md-3 col-sm-6">
                    <div class="feature-card">
                        <div class="feature-icon"><i class="fas fa-database"></i></div>
                        <h5>‡¶¨‡¶ø‡¶∂‡¶æ‡¶≤ ‡¶§‡¶•‡ßç‡¶Ø‡¶≠‡¶æ‡¶£‡ßç‡¶°‡¶æ‡¶∞</h5>
                        <p class="small text-muted">‡¶°‡¶ø‡¶è‡¶≤‡¶Ü‡¶∞, ‡¶¨‡¶ø‡¶è‡¶≤‡¶°‡¶ø ‡¶∏‡¶π ‡¶π‡¶æ‡¶ú‡¶æ‡¶∞ ‡¶π‡¶æ‡¶ú‡¶æ‡¶∞ ‡¶ú‡¶æ‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶Ü‡¶∞‡ßç‡¶ï‡¶æ‡¶á‡¶≠, ‡¶Ø‡¶æ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶®‡¶ø‡ßü‡¶§ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶π‡¶ö‡ßç‡¶õ‡ßá‡•§</p>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6">
                    <div class="feature-card">
                        <div class="feature-icon"><i class="fas fa-bolt"></i></div>
                        <h5>‡¶â‡¶®‡ßç‡¶®‡¶§ ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶á‡¶û‡ßç‡¶ú‡¶ø‡¶®</h5>
                        <p class="small text-muted">‡¶ï‡¶ø-‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°, ‡¶ß‡¶æ‡¶∞‡¶æ ‡¶¨‡¶æ ‡¶∏‡¶æ‡¶á‡¶ü‡ßá‡¶∂‡¶® ‡¶¶‡¶ø‡ßü‡ßá ‡¶®‡¶ø‡¶Æ‡¶ø‡¶∑‡ßá‡¶á ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßá ‡¶¨‡ßá‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶ï‡¶æ‡¶ô‡ßç‡¶ï‡ßç‡¶∑‡¶ø‡¶§ ‡¶®‡¶ú‡¶ø‡¶∞‡•§</p>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6">
                    <div class="feature-card">
                        <div class="feature-icon"><i class="fas fa-hand-holding-usd"></i></div>
                        <h5>‡¶∏‡ßç‡¶¨‡¶≤‡ßç‡¶™ ‡¶ñ‡¶∞‡¶ö</h5>
                        <p class="small text-muted">‡¶õ‡¶æ‡¶§‡ßç‡¶∞ ‡¶ì ‡¶®‡¶¨‡ßÄ‡¶® ‡¶Ü‡¶á‡¶®‡¶ú‡ßÄ‡¶¨‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶ï‡¶•‡¶æ ‡¶¨‡¶ø‡¶¨‡ßá‡¶ö‡¶®‡¶æ ‡¶ï‡¶∞‡ßá ‡¶®‡¶æ‡¶Æ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø‡ßá ‡¶Ü‡¶®‡¶≤‡¶ø‡¶Æ‡¶ø‡¶ü‡ßá‡¶° ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶∏‡ßá‡¶∏‡•§</p>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6">
                    <div class="feature-card">
                        <div class="feature-icon"><i class="fas fa-mobile-alt"></i></div>
                        <h5>‡¶Ø‡ßá‡¶ï‡ßã‡¶®‡ßã ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏‡ßá</h5>
                        <p class="small text-muted">‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤, ‡¶≤‡ßç‡¶Ø‡¶æ‡¶™‡¶ü‡¶™ ‡¶¨‡¶æ ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨‡¶≤‡ßá‡¶ü‡ßá ‡¶ñ‡ßÅ‡¶¨ ‡¶∏‡¶π‡¶ú‡ßá‡¶á ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶´‡ßç‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶≤‡¶ø ‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶´‡ßá‡¶∏‡•§</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container mt-4">
        <div id="resultsArea"></div>
        <div id="readerView" class="shadow-sm"></div>
        <div id="paywallMsg" class="paywall-msg shadow">
            <i class="fas fa-crown fa-4x text-warning mb-3"></i>
            <h3>Premium Access Required</h3>
            <p>‡¶Æ‡ßá‡ßü‡¶æ‡¶¶ ‡¶∂‡ßá‡¶∑ ‡¶π‡ßü‡ßá ‡¶ó‡ßá‡¶õ‡ßá‡•§ ‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶∞‡¶ø‡¶®‡¶ø‡¶â ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
            <a href="#packages" class="btn btn-primary mt-3">‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</a>
        </div>
    </div>

    <div class="packages-section" id="packages">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="fw-bold">‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü <span style="color:#d35400">‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</span></h2>
                <p class="text-muted mx-auto" style="max-width: 700px;">
                    ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú ‡¶•‡ßá‡¶ï‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡¶õ‡¶®‡ßç‡¶¶‡¶Æ‡¶§‡ßã ‡¶™‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶®‡¶ü‡¶ø ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ ‡¶è‡¶∞‡¶™‡¶∞ <b>'‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶®‡¶´‡¶æ‡¶∞‡ßç‡¶Æ ‡¶ï‡¶∞‡ßÅ‡¶®'</b> ‡¶¨‡¶æ‡¶ü‡¶®‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßá ‡¶´‡¶∞‡¶Æ‡¶ü‡¶ø ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶ö‡¶æ‡¶≤‡ßÅ ‡¶ï‡¶∞‡ßá ‡¶¶‡ßá‡¶¨‡•§
                </p>
            </div>

            <div class="row g-4 justify-content-center">
                <div class="col-md-3 col-sm-6">
                    <div class="package-card">
                        <i class="fas fa-calendar-day"></i>
                        <h5>‡¶Æ‡¶æ‡¶∏‡¶ø‡¶ï ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï</h5>
                        <div class="price"><span>‡ßß‡ßØ‡ßØ‡ß≥</span> / ‡ßß ‡¶Æ‡¶æ‡¶∏</div>
                        <a class="btn-pay" href="https://shop.bkash.com/ak-jurist-law-firm01911008518/pay/bdt199/4NosNL" target="_blank">‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</a>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6">
                    <div class="package-card">
                        <i class="fas fa-calendar-alt"></i>
                        <h5>‡¶§‡ßç‡¶∞‡ßà‡¶Æ‡¶æ‡¶∏‡¶ø‡¶ï ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï</h5>
                        <div class="price"><span>‡ß™‡ßØ‡ßØ‡ß≥</span> / ‡ß© ‡¶Æ‡¶æ‡¶∏</div>
                        <a class="btn-pay" href="https://shop.bkash.com/ak-jurist-law-firm01911008518/pay/bdt499/IxcDIa" target="_blank">‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</a>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6">
                    <div class="package-card">
                        <i class="fas fa-calendar-check"></i>
                        <h5>‡¶∑‡¶æ‡¶®‡ßç‡¶Æ‡¶æ‡¶∏‡¶ø‡¶ï ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï</h5>
                        <div class="price"><span>‡ß≠‡ß¶‡ß¶‡ß≥</span> / ‡ß¨ ‡¶Æ‡¶æ‡¶∏</div>
                        <a class="btn-pay" href="https://shop.bkash.com/ak-jurist-law-firm01911008518/pay/bdt700/LO7ESu" target="_blank">‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</a>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6">
                    <div class="package-card">
                        <i class="fas fa-award"></i>
                        <h5>‡¶¨‡¶æ‡¶∞‡ßç‡¶∑‡¶ø‡¶ï ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï</h5>
                        <div class="price"><span>‡ßß‡ß®‡ß¶‡ß¶‡ß≥</span> / ‡ßß ‡¶¨‡¶õ‡¶∞</div>
                        <a class="btn-pay" href="https://shop.bkash.com/ak-jurist-law-firm01911008518/pay/bdt1200/O3FBxR" target="_blank">‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</a>
                    </div>
                </div>
            </div>

            <div class="text-center mt-5">
                <button class="btn-confirm" data-bs-toggle="modal" data-bs-target="#paymentModal">
                    <i class="fas fa-check-double me-2"></i> ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶®‡¶´‡¶æ‡¶∞‡ßç‡¶Æ ‡¶ï‡¶∞‡ßÅ‡¶®
                </button>
            </div>
        </div>
    </div>

    <footer class="bg-dark text-white text-center py-4 mt-5" id="contact">
        <div class="container">
            <h5>CaseReference BD</h5>
            <p class="small opacity-75">Contact: 01911 008 518 | Email: legalvoicebd@gmail.com</p>
            <p class="small opacity-50">&copy; 2026 CaseReference. All Rights Reserved.</p>
        </div>
    </footer>

    <a href="https://wa.me/8801911008518" class="whatsapp-float" target="_blank">
        <i class="fab fa-whatsapp"></i>
    </a>

    <div class="modal fade" id="paymentModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header bg-success text-white">
                    <h5 class="modal-title">‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶∂‡¶® ‡¶´‡¶∞‡¶Æ</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body p-4">
                    <form id="paymentForm" action="https://formsubmit.co/caseref.bd@gmail.com" method="POST">
                        <input type="hidden" name="_captcha" value="false">
                        <input type="hidden" name="_subject" value="New Payment Request">
                        <div class="mb-3"><label class="form-label">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ</label><input type="text" name="Name" class="form-control" required></div>
                        <div class="mb-3"><label class="form-label">‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞</label><input type="text" name="Phone" class="form-control" required></div>
                        <div class="mb-3"><label class="form-label">‡¶≤‡¶ó‡¶á‡¶® ‡¶á‡¶Æ‡ßá‡¶á‡¶≤</label><input type="email" name="Email" class="form-control" required></div>
                        <div class="mb-3"><label class="form-label">Transaction ID (TrxID)</label><input type="text" name="TrxID" class="form-control" required></div>
                        <div class="mb-3"><label class="form-label">‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú</label><select name="Package" class="form-select"><option>Monthly</option><option>Yearly</option></select></div>
                        <button type="submit" class="btn btn-success w-100">‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="checkEmailModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content text-center p-4">
                <div class="modal-body">
                    <i class="fas fa-envelope-open-text fa-3x text-primary mb-3"></i>
                    <h4>Check Your Email</h4>
                    <p class="text-muted">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶á‡¶Æ‡ßá‡¶á‡¶≤‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶≤‡¶ó‡¶á‡¶® ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§</p>
                    <button type="button" class="btn btn-dark w-100" data-bs-dismiss="modal">OK</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const supabaseUrl = 'https://bxzrydybnnlzrgzdqnob.supabase.co'; 
        const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ4enJ5ZHlibm5senJnemRxbm9iIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg1NTQ2MzksImV4cCI6MjA4NDEzMDYzOX0.6Ikj5At5UKhKZr6y_lhmOQ-FUDxdnJOS1ZUSf6dTgEI'; 
        const githubUser = 'LexSwordBD'; 
        const repoName = 'casereference'; 
        const siteLink = 'https://lexswordbd.github.io/casereference/';

        const _supabase = supabase.createClient(supabaseUrl, supabaseKey);
        let currentUser = null;
        let subStatus = false;

        async function checkAuth() {
            const { data: { session } } = await _supabase.auth.getSession();
            const authDiv = document.getElementById('authDiv');
            if (session) {
                currentUser = session.user;
                const { data } = await _supabase.from('members').select('*').eq('email', currentUser.email).single();
                subStatus = (data && new Date(data.expiry_date) > new Date());
                authDiv.innerHTML = `<button class="btn btn-outline-dark rounded-pill px-3" onclick="logout()"><i class="fas fa-user-circle"></i> ${subStatus ? 'Premium' : 'My Account'}</button>`;
            } else {
                authDiv.innerHTML = `<button class="btn btn-dark rounded-pill px-4" onclick="login()">Login</button>`;
            }
        }
        checkAuth();

        async function login() {
            const email = prompt("Enter Email:");
            if(email) {
                const { error } = await _supabase.auth.signInWithOtp({ email, options: { emailRedirectTo: siteLink } });
                if(!error) new bootstrap.Modal(document.getElementById('checkEmailModal')).show();
            }
        }
        async function logout() { await _supabase.auth.signOut(); location.reload(); }
        function toggleAdvSearch() { document.getElementById('advSearchForm').style.display = document.getElementById('advSearchForm').style.display === 'block' ? 'none' : 'block'; }
        function showSection(sec) { 
            document.getElementById('packages').style.display = 'block'; 
            document.getElementById('features').style.display = 'block';
            document.getElementById('homeSection').scrollIntoView({behavior: 'smooth'}); 
        }

        async function performSearch(type) {
            const resultsDiv = document.getElementById('resultsArea');
            document.getElementById('readerView').style.display = 'none';
            document.getElementById('paywallMsg').style.display = 'none';
            document.getElementById('packages').style.display = 'none';
            document.getElementById('features').style.display = 'none'; // ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶ï‡¶∞‡¶≤‡ßá ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞ ‡¶≤‡ßÅ‡¶ï‡¶æ‡¶¨‡ßá
            document.getElementById('homeSection').style.padding = "30px 0";

            resultsDiv.innerHTML = '<div class="text-center py-5"><div class="spinner-border text-primary"></div></div>';
            
            let queryBuilder = _supabase.from('cases').select('*');
            let highlightTerm = "";

            if (type === 'advanced') {
                const jour = document.getElementById('advJournal').value;
                const vol = document.getElementById('advVol').value;
                const div = document.getElementById('advDiv').value;
                const pg = document.getElementById('advPage').value;

                // ‡¶®‡¶§‡ßÅ‡¶® ‡¶≤‡¶ú‡¶ø‡¶ï: ‡¶∏‡¶¨ ‡¶´‡¶ø‡¶≤‡ßç‡¶° ‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶ï‡¶∞‡¶æ ‡¶¨‡¶æ‡¶ß‡ßç‡¶Ø‡¶§‡¶æ‡¶Æ‡ßÇ‡¶≤‡¶ï
                if (!jour || !vol || !div || !pg) { 
                    alert("Advanced Search-‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶∏‡¶¨ ‡¶ï‡ßü‡¶ü‡¶ø ‡¶ò‡¶∞ (Journal, Volume, Division, Page) ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡¶æ ‡¶¨‡¶æ‡¶ß‡ßç‡¶Ø‡¶§‡¶æ‡¶Æ‡ßÇ‡¶≤‡¶ï‡•§");
                    resultsDiv.innerHTML = "";
                    document.getElementById('features').style.display = 'block'; // ‡¶≠‡ßÅ‡¶≤ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶π‡ßã‡¶Æ‡¶™‡ßá‡¶ú ‡¶¶‡ßá‡¶ñ‡¶æ‡¶ì
                    return; 
                }

                queryBuilder = queryBuilder.eq('journal', jour).eq('volume', vol).eq('division', div).eq('page_number', pg);
                highlightTerm = `${jour} ${vol} ${pg}`;
            } else {
                const text = document.getElementById('searchInput').value;
                if (!text) return;
                queryBuilder = queryBuilder.or(`headnote.ilike.%${text}%,title.ilike.%${text}%`);
                highlightTerm = text;
            }

            const { data, error } = await queryBuilder.limit(20);

            if (error || !data.length) {
                resultsDiv.innerHTML = '<div class="text-center mt-5"><h4>No cases found.</h4></div>';
                document.getElementById('packages').style.display = 'block';
                return;
            }

            resultsDiv.innerHTML = `<p class="text-muted mb-4">Found ${data.length} results</p>`;
            data.forEach(item => {
                const div = document.createElement('div');
                div.className = 'result-card';
                div.onclick = () => loadJudgment(item);
                div.innerHTML = `<h5>${item.title}</h5><p class="small text-muted mb-0">${item.citation}</p><p class="mt-2 text-dark">${item.headnote || ''}</p>`;
                resultsDiv.appendChild(div);
            });
        }

        async function loadJudgment(item) {
            if (item.is_premium && !currentUser) { alert("Please Login."); login(); return; }
            if (item.is_premium && !subStatus) { 
                document.getElementById('resultsArea').innerHTML = '';
                document.getElementById('paywallMsg').style.display = 'block';
                document.getElementById('packages').style.display = 'block';
                return; 
            }
            document.getElementById('resultsArea').innerHTML = '';
            const viewer = document.getElementById('readerView');
            viewer.style.display = 'block';
            
            try {
                const url = `https://raw.githubusercontent.com/${githubUser}/${repoName}/main/judgments/${item.github_filename}`;
                const res = await fetch(url);
                const fullText = await res.text();
                const start = `===${item.case_anchor}===`;
                const end = `===End===`;
                const sIdx = fullText.indexOf(start);
                let content = sIdx !== -1 ? fullText.substring(sIdx + start.length, fullText.indexOf(end, sIdx)) : "Content Error";
                viewer.innerHTML = `<button class="btn btn-light mb-3" onclick="location.reload()">Back</button><h3 class="text-center">${item.title}</h3><hr>${content}`;
            } catch (e) { viewer.innerHTML = "Error loading."; }
        }
    </script>
</body>
</html>